(this.webpackJsonpexam=this.webpackJsonpexam||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a.n(c),o=a(23),u=a(7),s=(a(71),a(15)),d=a(24),l=a.n(d),m=a(60),h=a(44),f=a(35),p=a(141),v=a(143),y=a(142),w=a(127),b=a(128),O=a(140),g=a(137),j=a(138),E=a(144),D=a(129),x=a(58),k=a(57),I=a(126),N=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],S=(new Date).getDay(),_=Object(v.a)(0,5).map((function(e){var t=N[(S+e)%N.length];return 0===e?t+" (hoy)":t})),T={Clear:"\u2600\ufe0f",Clouds:"\u2601\ufe0f",Rain:"\u2614\ufe0f",Drizzle:"\u2614\ufe0f",Snow:"\u2744\ufe0f",Thunderstorm:"\u26a1\ufe0f",Mist:"\ud83c\udf2b",Smoke:"\ud83c\udf2b",Haze:"\ud83c\udf2b",Dust:"\ud83c\udf2b",Fog:"\ud83c\udf2b",Sand:"\ud83c\udf2b",Ash:"\ud83c\udf2b",Squall:"\ud83c\udf2b",Tornado:"\ud83c\udf2b"},M=Object(f.b)({name:"weather",initialState:{daysOverview:Array(_.length),daysTemperatures:Object(p.a)([],_.length)},reducers:{setOverviewWeather:function(e,t){var a=t.payload,n=a.dayIndex,r=a.value;n>=0&&n<e.daysOverview.length&&(e.daysOverview[n]=r)},setDayTemperatures:function(e,t){var a=t.payload,n=a.dayIndex,r=a.value;n>=0&&n<e.daysTemperatures.length&&(e.daysTemperatures[n]=r)}}}),W=M.actions,z=W.setOverviewWeather,F=W.setDayTemperatures,A=function(e){return function(t){return t.weather.daysOverview[e]}},J=M.reducer,R=a(45),q=a.n(R);function B(e){var t=e.children,a=e.dayIndex,n=e.currentDayIndex,c=q.a.DayOverview+" "+(a===n?q.a.selected:""),i=Object(s.c)(A(a));if(!i)return r.a.createElement(o.b,{to:"/".concat(a),className:c},t," \u26aa\ufe0f");var u=i.max,d=i.min,l=i.weather;return r.a.createElement(o.b,{to:"/".concat(a),className:c},t," ",l,r.a.createElement("br",null),Math.round(d),"\xb0 / ",Math.round(u),"\xb0")}function C(e){var t=e.currentDayIndex,a=Object(s.c)(A(0)),c=Object(s.b)();return Object(n.useEffect)((function(){a||c(function(){var e=Object(h.a)(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("//api.openweathermap.org/data/2.5/forecast?&q=Region Metropolitana,cl&units=metric&appid=".concat("475eeac4a11ada97caf71d84c0e3e6cd"));case 2:if(!(a=e.sent).ok){e.next=12;break}return e.next=6,a.json();case 6:n=e.sent,r=n.list.map((function(e){var t,a=e.dt,n=e.main.temp,r=Object(m.a)(e.weather,1)[0].main,c=new Date(1e3*a);return{hour:c.getHours(),day:(t=c.getDay(),Object(I.a)(t-S,N.length)),temperature:n,weather:T[r]}})),(c=Object(v.a)(0,_.length).map((function(e){return r.filter((function(t){return t.day===e}))}))).map((function(e){var t=e.map(Object(y.a)("temperature"));return{max:t.reduce(w.a),min:t.reduce(b.a),weather:Object(O.a)(Object(g.a)(Object(y.a)("weather")),Object(j.a)(E.a),D.a,Object(x.a)((function(e,t){return t[1]>e[1]?t:e}),["",0]),Object(k.a)(0))(e)}})).forEach((function(e,a){t(z({dayIndex:a,value:e}))})),c.forEach((function(e,a){t(F({dayIndex:a,value:e}))}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),r.a.createElement("div",{className:"days"},_.map((function(e,a){return r.a.createElement(B,{key:a,dayIndex:a,currentDayIndex:t},e)})))}var H=a(61),P=a(132),K=a(139),L=a(130),V=a(131),Z=a(135),$=a(136),G=a(133),Q=a(134),U=a(48),X=a.n(U),Y=function(e){return e.hour},ee=function(e){return e.temperature};function te(e){var t=e.width,a=e.height,c=e.dayIndex,i=Object(s.c)(function(e){return function(t){return t.weather.daysTemperatures[e]}}(c)),o=Object(s.b)();if(Object(n.useEffect)((function(){i&&0!==i.length||o(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),!i||0===i.length)return r.a.createElement("div",{className:X.a.DayDetails});var u=30,d=30,m=t-d-30,f=a-u-30,p=Object(L.a)({range:[0,m],domain:i.map(Y),paddingOuter:.5,paddingInner:1}),v=Object(V.a)({range:[f,0],domain:[i.map(ee).reduce(b.a,0),i.map(ee).reduce(w.a,0)],nice:!0}),y=Object(O.a)(Y,p),g=Object(O.a)(ee,v),j=i.map((function(e,t){return r.a.createElement(P.a,{key:"dot-".concat(Y(e)),cx:y(e),cy:g(e),r:"10",fill:"red"})}));return r.a.createElement("div",{className:X.a.DayDetails},r.a.createElement("svg",{width:t,height:a},r.a.createElement(H.a,{top:u,left:d},r.a.createElement(G.a,{scale:p,width:m,height:f,stroke:"silver"}),r.a.createElement(Q.a,{scale:v,width:m,height:f,stroke:"silver"}),r.a.createElement(K.a,{data:i,x:Object(O.a)(Y,p),y:Object(O.a)(ee,v),stroke:"red",strokeWidth:1.5,shapeRendering:"geometricPrecision"}),r.a.createElement(H.a,null,j),r.a.createElement(Z.a,{scale:v,tickFormat:function(e){return"".concat(e.toString(),"\xb0")}}),r.a.createElement($.a,{scale:p,top:f,tickFormat:function(e){return"".concat(e.toString(),":00")}}))))}a(117);var ae=function(e){var t=function(e){var t=parseInt(e);return!isNaN(t)&&t>=0&&t<_.length?t:NaN}(e.match.params.day);return r.a.createElement("div",{className:"App"},r.a.createElement(C,{currentDayIndex:t}),isNaN(t)?"":r.a.createElement(te,{width:500,height:500,dayIndex:t}))},ne=Object(f.a)({reducer:{weather:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:ne},r.a.createElement(o.a,{basename:"/web-app-exercise/"},r.a.createElement(u.a,{path:"/:day?",component:ae})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,t,a){e.exports={DayOverview:"DayOverview_DayOverview__1SK8v",selected:"DayOverview_selected__1F-oS"}},48:function(e,t,a){e.exports={DayDetails:"DayDetails_DayDetails__ESPzZ"}},66:function(e,t,a){e.exports=a(118)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.94725a0e.chunk.js.map